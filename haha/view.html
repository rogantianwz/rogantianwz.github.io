<ol>
<li>焦点wap开发维护</li>
<li>静态资源管理</li>
<li>wap页面访问优化</li>
</ol>



<h3 id="焦点wap开发维护">焦点wap开发维护</h3>

<ol>
<li>2013.8 - 现在, 经历三个大的版本。从最初的项目技术人员到逐步成为项目的技术负责人，参加历次的需求会议，对产品需求提出各种建议，分析需求，分解任务，进度跟踪等。走到这一步不是侥幸，因为我对项目的主人翁责任感，不仅仅把自己看成一个developer,而是还是参与者。</li>
<li>测试与持续集成。为了便于测试和持续集成，构建了wap的测试和集成环境。其中包括wap相关 的测试联调环境有tes.m.focus.cn, jobs.m.focus.cn, qa.m.focus.cn三套,静态资源相关环境有s.m.focus.cn/test, s.m.focus.cn/qa,test.m.focus.cn/online三套。静态资源和java代码的自动部署。这些都是在工作过程中根据需要而制定的，适应现在的开发模式。</li>
</ol>



<h3 id="静态资源管理">静态资源管理</h3>

<ol>
<li>起因：为了解决静态资源的版本管理问题。当页面引用的某个静态资源（js,css,png)发生改变的时候，如果不考虑版本管理问题，那么就涉及到要缓存问题，而且不能完全解决问题，因为用户浏览器的缓存没法清除。那使用普通的版本管理方式比如在url后边加上?version=123这种后缀，由于有更新时间间隙的问题会出现访问出错的问题，而且如果使用CDN的话可能会引起CDN攻击。</li>
<li>过程：解决方案是使用hash版本冗余机制。由于我们的项目使用maven来管理，所以考虑做一个maven插件来完成这件事情，然后在使用maven打包的时候自动就把静态资源的版本问题解决了。过程是在打包的时候遍历所有的jsp或者html文件把其中对静态资源的引用都记录下来，然后把这些静态资源从服务器下载下来，计算文件的md5，更改静态资源的文件名，加上md5后缀，like…/a/b/c_${md5}.js。然后将这些该过名的静态资源上传CDN，再把jsp和html中对静态资源的引用都改成带md5的，然后发布。这样做的话只那些修改过的资源md5值发生变化需要重新更新到线上，而且不会影响线上旧的资源</li>
<li>结果：从14年年初使用此插件以来，静态资源管理就不再是问题了，而且部署也很方便。</li>
<li>后续：由于前端团队的壮大，他们开始使用requirejs等框架，现有插件就不能很好的处理了，后续对插件进行过版本更新。现在前端忍受充足，它们准备使用自己的版本管理机制，该方案可能成为历史。</li>
</ol>



<h3 id="wap页面访问优化">wap页面访问优化</h3>

<ol>
<li>起因</li>
<li>两步走</li>
</ol>

<p><a href="http://www.infoq.com/cn/articles/front-end-engineering-and-performance-optimization-part1/">参考</a></p>

<blockquote>
  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>